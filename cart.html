<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping Cart - Audiophile</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/products.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@200;300;400;500;600;700;800&display=swap" rel="stylesheet">
        <style>
    
.header-content {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 32px 0;
  position: relative;
}

/* Cart Link and Button Styling */
.cart-link {
  text-decoration: none;
  color: inherit;
  display: flex;
  align-items: center;
}

.cart-btn {
  background: none;
  border: none;
  cursor: pointer;
  position: relative;
  padding: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: opacity 0.3s ease;
}

.cart-btn:hover {
  opacity: 0.7;
}

.cart-btn svg {
  display: block;
}

.cart-count {
  position: absolute;
  top: 0;
  right: 0;
  background-color: #d87d4a;
  color: white;
  border-radius: 50%;
  width: 20px;
  height: 20px;
  font-size: 12px;
  font-weight: 700;
  display: flex;
  align-items: center;
  justify-content: center;
  transform: translate(10%, -10%); 
}


/* Mobile Header Layout */
@media (max-width: 768px) {
  .header-content {
    padding: 24px 0;
  }
  
  .mobile-menu-btn {
    display: flex;
    order: 1;
    margin-right: auto;
  }
  
  .logo {
    order: 2;
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
  }
  
  .cart-link {
    order: 3;
    margin-left: auto;
  }
  
  .cart-btn {
    padding: 12px;
  }
  
  .cart-count {
    width: 18px;
    height: 18px;
    font-size: 11px;
    transform: translate(20%, -20%);
  }
}

@media (max-width: 480px) {
  .header-content {
    padding: 20px 0;
  }
  
  .cart-btn {
    padding: 10px;
  }
  
   .cart-count {
    width: 16px;
    height: 16px;
    font-size: 10px;
    transform: translate(15%, -15%);
  }
}

.logo {
  flex-shrink: 0;
}

.nav {
  flex-grow: 1;
  display: flex;
  justify-content: center;
}

@media (min-width: 769px) {
  .mobile-menu-btn {
    display: none;
  }
  
  .logo {
    order: 1;
  }
  
  .nav {
    order: 2;
  }
  
  .cart-link {
    order: 3;
  }
}
    </style>
    <style>
    .cart-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 15px 0;
        border-bottom: 1px solid #eee;
    }
    
    .cart-item-details {
        display: flex;
        align-items: center;
        gap: 15px;
    }
    
    .cart-item-img {
        width: 64px;
        height: 64px;
        border-radius: 8px;
        object-fit: cover;
    }
    
    .cart-item-quantity {
        display: flex;
        align-items: center;
        gap: 10px;
    }
    
    .quantity-btn {
        width: 30px;
        height: 30px;
        background: #f1f1f1;
        border: none;
        font-size: 16px;
        cursor: pointer;
    }
    
    .remove-btn {
        background: none;
        border: none;
        color: #d87d4a;
        cursor: pointer;
        margin-left: 15px;
    }
    
    .cart-empty {
        text-align: center;
        padding: 40px 0;
    }
    
    .cart-header-page {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 30px;
    }
    
    .remove-all-btn {
        background: none;
        border: none;
        color: #d87d4a;
        cursor: pointer;
    }
    
    .summary-row {
        display: flex;
        justify-content: space-between;
        margin-bottom: 10px;
    }
    
    .total-row {
        margin-top: 20px;
        font-weight: bold;
    }
    
    #checkoutBtn:disabled {
        background-color: #ccc;
        cursor: not-allowed;
    }
</style>
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="header-content">
                <button class="mobile-menu-btn" id="mobileMenuBtn">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                
                <div class="logo">
                    <a href="index.html">audiophile</a>
                </div>
                
                <nav class="nav" id="mainNav">
                    <ul>
                        <li><a href="index.html">HOME</a></li>
                        <li><a href="headphones.html">HEADPHONES</a></li>
                        <li><a href="speakers.html">SPEAKERS</a></li>
                        <li><a href="earphones.html">EARPHONES</a></li>
                    </ul>
                </nav>
                
               <a href="cart.html" class="cart-link">
                <button class="cart-btn" id="cartBtn">
                    <svg width="23" height="20" xmlns="http://www.w3.org/2000/svg">
                        <path d="M8.625 15.833c1.132 0 2.054.935 2.054 2.084 0 1.148-.922 2.083-2.054 2.083-1.132 0-2.054-.935-2.054-2.083 0-1.15.922-2.084 2.054-2.084zm9.857 0c1.132 0 2.054.935 2.054 2.084 0 1.148-.922 2.083-2.054 2.083-1.132 0-2.053-.935-2.053-2.083 0-1.15.92-2.084 2.053-2.084zm-9.857 1.39a.69.69 0 00-.685.694.69.69 0 00.685.694.69.69 0 00.685-.694.69.69 0 00-.685-.694zm9.857 0a.69.69 0 00-.684.694.69.69 0 00.684.694.69.69 0 00.685-.694.69.69 0 00-.685-.694zM4.717 0c.316 0 .59.215.658.517l.481 2.122h16.47a.68.68 0 01.538.262c.127.166.168.38.11.579l-2.695 9.236a.672.672 0 01-.648.478H7.41a.667.667 0 00-.673.66c0 .364.303.66.674.66h12.219c.372 0 .674.295.674.66 0 .364-.302.66-.674.66H7.412c-1.115 0-2.021-.889-2.021-1.98 0-.812.502-1.511 1.218-1.816L4.176 1.32H.674A.667.667 0 010 .66C0 .296.302 0 .674 0zm16.716 3.958H6.156l1.797 7.917h11.17l2.31-7.917z" fill="#FFF" fill-rule="nonzero"/>
                    </svg>
                    <span class="cart-count" id="cart-count">0</span>
                </button>
                </a>
            </div>
        </div>
    </header>

    <!-- Back Button -->
    <section class="back-section">
        <div class="container">
            <button class="back-btn" onclick="history.back()">Go Back</button>
        </div>
    </section>

    <!-- Cart Content -->
    <section class="cart-page">
        <div class="container">
            <div class="cart-page-content">
                <div class="cart-main">
                    <div class="cart-header-page">
                        <h1>Shopping Cart</h1>

                        <button class="remove-all-btn" id="removeAllBtnPage">Remove all</button>
                    </div>
                    
                    <div class="cart-items-page" id="cart-container" >
                
                    </div>
                    
                    <div class="cart-empty" id="cartEmpty" style="display: none;">
                        <div class="empty-cart-content">
                            <h2>Your cart is empty</h2>
                            <p>Looks like you haven't added any items to your cart yet.</p>
                            <a href="index.html" class="btn btn-primary">Continue Shopping</a>
                        </div>
                    </div>
                </div>
                
                <div class="cart-summary" id="cartSummary">
                    <h2>Order Summary</h2>
                    <div class="summary-row">
                        <span>Subtotal</span>
                        <span id="cartSubtotal">$ 0</span>
                    </div>
                    <div class="summary-row">
                        <span>Shipping</span>
                        <span>$ 50</span>
                    </div>
                    <div class="summary-row">
                        <span>VAT (Included)</span>
                        <span id="cartVat">$ 0</span>
                    </div>
                    <div class="summary-row total-row">
                        <span>Total</span>
                        <span id="grand-total">$ 0</span>
                    </div>
                    <a href="checkout.html" class="btn btn-primary btn-full" id="checkoutBtn">Checkout</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-top">
                    <div class="footer-logo">
                        <a href="index.html">audiophile</a>
                    </div>
                    <nav class="footer-nav">
                        <ul>
                            <li><a href="index.html">HOME</a></li>
                            <li><a href="headphones.html">HEADPHONES</a></li>
                            <li><a href="speakers.html">SPEAKERS</a></li>
                            <li><a href="earphones.html">EARPHONES</a></li>
                        </ul>
                    </nav>
                </div>
                
                <div class="footer-bottom">
                    <div class="footer-text">
                        <p>Audiophile is an all in one stop to fulfill your audio needs. We're a small team of music lovers and sound specialists who are devoted to helping you get the most out of personal audio. Come and visit our demo facility - we're open 7 days a week.</p>
                    </div>
                    <div class="footer-social">
                        <a href="#" aria-label="Facebook">
                            <svg width="24" height="24" xmlns="http://www.w3.org/2000/svg">
                                <path d="M22.46 0H1.54C.69 0 0 .69 0 1.54v20.92C0 23.31.69 24 1.54 24h11.24v-9.3H9.69v-3.62h3.09V8.41c0-3.05 1.87-4.71 4.58-4.71 1.3 0 2.42.1 2.75.14v3.19l-1.89.001c-1.48 0-1.77.7-1.77 1.74v2.28h3.55l-.46 3.62h-3.09V24h6.06c.85 0 1.54-.69 1.54-1.54V1.54C24 .69 23.31 0 22.46 0z" fill="#FFF"/>
                            </svg>
                        </a>
                        <a href="#" aria-label="Twitter">
                            <svg width="24" height="20" xmlns="http://www.w3.org/2000/svg">
                                <path d="M24 2.557a9.83 9.83 0 01-2.828.775A4.932 4.932 0 0023.337.608a9.864 9.864 0 01-3.127 1.195A4.916 4.916 0 0016.616.248c-3.179 0-5.515 2.966-4.797 6.045A13.978 13.978 0 011.671 1.149a4.93 4.93 0 001.523 6.574 4.903 4.903 0 01-2.229-.616c-.054 2.281 1.581 4.415 3.949 4.89a4.935 4.935 0 01-2.224.084 4.928 4.928 0 004.6 3.419A9.9 9.9 0 010 17.54a13.94 13.94 0 007.548 2.212c9.142 0 14.307-7.721 13.995-14.646A10.025 10.025 0 0024 2.557z" fill="#FFF"/>
                            </svg>
                        </a>
                        <a href="#" aria-label="Instagram">
                            <svg width="24" height="24" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z" fill="#FFF"/>
                            </svg>
                        </a>
                    </div>
                </div>
                
                <div class="footer-copyright">
                    <p>Copyright 2021. All Rights Reserved</p>
                </div>
            </div>
        </div>
    </footer>

    <script src="js/main.js"></script>
     <script>
  function updateCartCount() {
    const cart = JSON.parse(localStorage.getItem('cart') || '[]');
    const count = cart.reduce((total, item) => total + item.quantity, 0);
    document.getElementById('cart-count').textContent = count;
  }

  document.addEventListener('DOMContentLoaded', updateCartCount);
</script>
<script>
function updateCartCount() {
    const cart = JSON.parse(localStorage.getItem('cart') || '[]');
    const count = cart.reduce((total, item) => total + item.quantity, 0);
    document.getElementById('cart-count').textContent = count;
}

// Cart functionality
function loadCart() {
    const cart = JSON.parse(localStorage.getItem('cart') || '[]');
    const container = document.getElementById('cart-container');
    const emptyCart = document.getElementById('cartEmpty');
    const cartSummary = document.getElementById('cartSummary');
    const checkoutBtn = document.getElementById('checkoutBtn');
    
    container.innerHTML = '';
    
    if (cart.length === 0) {
        emptyCart.style.display = 'block';
        cartSummary.style.display = 'none';
        if (checkoutBtn) checkoutBtn.disabled = true;
        updateCartCount();
        return;
    }
    
    emptyCart.style.display = 'none';
    cartSummary.style.display = 'block';
    if (checkoutBtn) checkoutBtn.disabled = false;
    
    let subtotal = 0;
    let totalItems = 0;
    
    cart.forEach(item => {
       
        const price = parseFloat(item.price);
        const itemTotal = price * item.quantity;
        subtotal += itemTotal;
        totalItems += item.quantity;
        console.log(item.image_absolute_url)
        
        const cartItem = document.createElement('div');
        cartItem.className = 'cart-item';
        cartItem.innerHTML = `
            <div class="cart-item-details">
                <img src="${item.image_absolute_url ||item.image }" alt="${item.name}" class="cart-item-img">
                <div class="cart-item-info">
                    <h3 class="cart-item-name">${item.name}</h3>
                    <p class="cart-item-price">$${price.toFixed(2)}</p>
                </div>
            </div>
            <div class="cart-item-quantity">
                <button class="quantity-btn" onclick="updateQuantity(${item.id}, -1)">-</button>
                <span class="quantity">${item.quantity}</span>
                <button class="quantity-btn" onclick="updateQuantity(${item.id}, 1)">+</button>
                <button class="remove-btn" onclick="removeFromCart(${item.id})">Remove</button>
            </div>
        `;
        container.appendChild(cartItem);
    });
    
    
    const vat = subtotal * 0.2;
    const shipping = 50;
    const total = subtotal + shipping;
    
    document.getElementById('cartSubtotal').textContent = `$${subtotal.toFixed(2)}`;
    document.getElementById('cartVat').textContent = `$${vat.toFixed(2)}`;
    document.getElementById('grand-total').textContent = `$${total.toFixed(2)}`;
    updateCartCount();
}

function updateQuantity(id, change) {
    const cart = JSON.parse(localStorage.getItem('cart') || '[]');
    const itemIndex = cart.findIndex(item => item.id === id);
    
    if (itemIndex !== -1) {
        cart[itemIndex].quantity += change;
        
        if (cart[itemIndex].quantity <= 0) {
            cart.splice(itemIndex, 1);
        }
        
        localStorage.setItem('cart', JSON.stringify(cart));
        loadCart();
    }
}

function removeFromCart(id) {
    const cart = JSON.parse(localStorage.getItem('cart') || '[]');
    const updatedCart = cart.filter(item => item.id !== id);
    localStorage.setItem('cart', JSON.stringify(updatedCart));
    loadCart();
}

function removeAllItems() {
    if (confirm('Are you sure you want to remove all items from your cart?')) {
        localStorage.removeItem('cart');
        loadCart();
    }
}

document.addEventListener('DOMContentLoaded', () => {
    loadCart();
    
    const removeAllBtn = document.getElementById('removeAllBtnPage');
    if (removeAllBtn) {
        removeAllBtn.addEventListener('click', removeAllItems);
    }
});
</script>

</body>
</html>
