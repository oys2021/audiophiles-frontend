<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>XX99 Mark II Headphones - Audiophile</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/product-details.css">
    <link rel="stylesheet" href="css/products.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Manrope:wght@200;300;400;500;600;700;800&display=swap" rel="stylesheet">
        <style>
    
.header-content {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 32px 0;
  position: relative;
}

/* Cart Link and Button Styling */
.cart-link {
  text-decoration: none;
  color: inherit;
  display: flex;
  align-items: center;
}

.cart-btn {
  background: none;
  border: none;
  cursor: pointer;
  position: relative;
  padding: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: opacity 0.3s ease;
}

.cart-btn:hover {
  opacity: 0.7;
}

.cart-btn svg {
  display: block;
}

.cart-count {
  position: absolute;
  top: 0;
  right: 0;
  background-color: #d87d4a;
  color: white;
  border-radius: 50%;
  width: 20px;
  height: 20px;
  font-size: 12px;
  font-weight: 700;
  display: flex;
  align-items: center;
  justify-content: center;
  transform: translate(10%, -10%); 
}


/* Mobile Header Layout */
@media (max-width: 768px) {
  .header-content {
    padding: 24px 0;
  }
  
  .mobile-menu-btn {
    display: flex;
    order: 1;
    margin-right: auto;
  }
  
  .logo {
    order: 2;
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
  }
  
  .cart-link {
    order: 3;
    margin-left: auto;
  }
  
  .cart-btn {
    padding: 12px;
  }
  
  .cart-count {
    width: 18px;
    height: 18px;
    font-size: 11px;
    transform: translate(20%, -20%);
  }
}

@media (max-width: 480px) {
  .header-content {
    padding: 20px 0;
  }
  
  .cart-btn {
    padding: 10px;
  }
  
   .cart-count {
    width: 16px;
    height: 16px;
    font-size: 10px;
    transform: translate(15%, -15%);
  }
}

.logo {
  flex-shrink: 0;
}

.nav {
  flex-grow: 1;
  display: flex;
  justify-content: center;
}

@media (min-width: 769px) {
  .mobile-menu-btn {
    display: none;
  }
  
  .logo {
    order: 1;
  }
  
  .nav {
    order: 2;
  }
  
  .cart-link {
    order: 3;
  }
}
    </style>
</head>
<body>

    <!-- Header -->
    <header class="header">
        <div class="head-container">
            <div class="header-content">
                <button class="mobile-menu-btn" id="mobileMenuBtn">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                
                <div class="logo">
                    <a href="index.html">audiophile</a>
                </div>
                
                <nav class="nav" id="mainNav">
                    <ul>
                        <li><a href="index.html">HOME</a></li>
                        <li><a href="headphones.html">HEADPHONES</a></li>
                        <li><a href="speakers.html">SPEAKERS</a></li>
                        <li><a href="earphones.html">EARPHONES</a></li>
                    </ul>
                </nav>
                <a href="cart.html" class="cart-link">
                <button class="cart-btn" id="cartBtn">
                    <svg width="23" height="20" xmlns="http://www.w3.org/2000/svg">
                        <path d="M8.625 15.833c1.132 0 2.054.935 2.054 2.084 0 1.148-.922 2.083-2.054 2.083-1.132 0-2.054-.935-2.054-2.083 0-1.15.922-2.084 2.054-2.084zm9.857 0c1.132 0 2.054.935 2.054 2.084 0 1.148-.922 2.083-2.054 2.083-1.132 0-2.053-.935-2.053-2.083 0-1.15.92-2.084 2.053-2.084zm-9.857 1.39a.69.69 0 00-.685.694.69.69 0 00.685.694.69.69 0 00.685-.694.69.69 0 00-.685-.694zm9.857 0a.69.69 0 00-.684.694.69.69 0 00.684.694.69.69 0 00.685-.694.69.69 0 00-.685-.694zM4.717 0c.316 0 .59.215.658.517l.481 2.122h16.47a.68.68 0 01.538.262c.127.166.168.38.11.579l-2.695 9.236a.672.672 0 01-.648.478H7.41a.667.667 0 00-.673.66c0 .364.303.66.674.66h12.219c.372 0 .674.295.674.66 0 .364-.302.66-.674.66H7.412c-1.115 0-2.021-.889-2.021-1.98 0-.812.502-1.511 1.218-1.816L4.176 1.32H.674A.667.667 0 010 .66C0 .296.302 0 .674 0zm16.716 3.958H6.156l1.797 7.917h11.17l2.31-7.917z" fill="#FFF" fill-rule="nonzero"/>
                    </svg>
                    <span class="cart-count" id="cart-count">0</span>
                </button>
                </a>
            </div>
        </div>
    </header>

    <section class="back-section">
        <div class="container">
            <button class="back-btn" onclick="history.back()">Go Back</button>
        </div>
    </section>

    <section class="product-detail">
        <div class="container">
            <div class="product-content">
                
              <div class="product-image">
  <img id="product-image" class="main-image" alt="Main product image">
</div>


                <!-- Product Info -->
                <div class="product-info">
                    <h1 id="product-name" class="product-name"></h1>
                    <p id="product-description" class="product-description"></p>
                    <p id="product-price" class="product-price"></p>
                    
                    <div class="product-actions">
                        <div class="quantity-controls">
                            <button class="quantity-btn" id="decreaseBtn">-</button>
                            <span class="quantity" id="quantity">1</span>
                            <button class="quantity-btn" id="increaseBtn">+</button>
                        </div>
                        <button class="btn btn-primary" id="addToCartBtn">ADD TO CART</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Product Features
    <section class="product-features">
        <div class="container">
            <div class="features-grid">
                <div class="features-content">
                    <h3>FEATURES</h3>
                    <div class="features-text">
                        <p>Featuring a genuine leather head strap and premium earcups, these headphones deliver superior comfort for those who like to enjoy endless listening. It includes intuitive controls designed for any situation. Whether you're taking a business call or just in your own personal space, the auto on/off and pause features ensure that you'll never miss a beat.</p>
                        
                        <p>The advanced Active Noise Cancellation with built-in equalizer allow you to experience your audio world on your terms. It lets you enjoy your audio in peace, but quickly interact with your surroundings when you need to. Combined with Bluetooth 5.0 compliant connectivity and 17 hour battery life, the XX99 Mark II headphones gives you superior audio quality without the inconvenience of wires.</p>
                    </div>
                </div>
                
                <div class="includes-content">
                    <h3>IN THE BOX</h3>
                    <ul class="includes-list">
                        <li class="includes-item">
                            <span class="includes-quantity">1x</span>
                            <span class="includes-name">Headphone Unit</span>
                        </li>
                        <li class="includes-item">
                            <span class="includes-quantity">2x</span>
                            <span class="includes-name">Replacement Earcups</span>
                        </li>
                        <li class="includes-item">
                            <span class="includes-quantity">1x</span>
                            <span class="includes-name">User Manual</span>
                        </li>
                        <li class="includes-item">
                            <span class="includes-quantity">1x</span>
                            <span class="includes-name">3.5mm 5m Audio Cable</span>
                        </li>
                        <li class="includes-item">
                            <span class="includes-quantity">1x</span>
                            <span class="includes-name">Travel Bag</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </section> -->

    <!-- Product Gallery Showcase -->
    <section class="product-gallery-showcase">
        <div class="container">
            <div id="product-gallery" class="gallery-showcase-grid">
                <!-- <div class="gallery-item">
                    <img src="/placeholder.svg?height=280&width=445" alt="XX99 Mark II Detail 1">
                </div>
                <div class="gallery-item">
                    <img src="/placeholder.svg?height=280&width=445" alt="XX99 Mark II Detail 2">
                </div>
                <div class="gallery-item large">
                    <img src="/placeholder.svg?height=592&width=635" alt="XX99 Mark II Detail 3">
                </div> -->
            </div>
        </div>
    </section>


   
   

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-top">
                    <div class="footer-logo">
                        <a href="index.html">audiophile</a>
                    </div>
                    <nav class="footer-nav">
                        <ul>
                            <li><a href="index.html">HOME</a></li>
                            <li><a href="headphones.html">HEADPHONES</a></li>
                            <li><a href="speakers.html">SPEAKERS</a></li>
                            <li><a href="earphones.html">EARPHONES</a></li>
                        </ul>
                    </nav>
                </div>
                
                <div class="footer-bottom">
                    <div class="footer-text">
                        <p>Audiophile is an all in one stop to fulfill your audio needs. We're a small team of music lovers and sound specialists who are devoted to helping you get the most out of personal audio. Come and visit our demo facility - we're open 7 days a week.</p>
                    </div>
                    <div class="footer-social">
                        <a href="#" aria-label="Facebook">
                            <svg width="24" height="24" xmlns="http://www.w3.org/2000/svg">
                                <path d="M22.46 0H1.54C.69 0 0 .69 0 1.54v20.92C0 23.31.69 24 1.54 24h11.24v-9.3H9.69v-3.62h3.09V8.41c0-3.05 1.87-4.71 4.58-4.71 1.3 0 2.42.1 2.75.14v3.19l-1.89.001c-1.48 0-1.77.7-1.77 1.74v2.28h3.55l-.46 3.62h-3.09V24h6.06c.85 0 1.54-.69 1.54-1.54V1.54C24 .69 23.31 0 22.46 0z" fill="#FFF"/>
                            </svg>
                        </a>
                        <a href="#" aria-label="Twitter">
                            <svg width="24" height="20" xmlns="http://www.w3.org/2000/svg">
                                <path d="M24 2.557a9.83 9.83 0 01-2.828.775A4.932 4.932 0 0023.337.608a9.864 9.864 0 01-3.127 1.195A4.916 4.916 0 0016.616.248c-3.179 0-5.515 2.966-4.797 6.045A13.978 13.978 0 011.671 1.149a4.93 4.93 0 001.523 6.574 4.903 4.903 0 01-2.229-.616c-.054 2.281 1.581 4.415 3.949 4.89a4.935 4.935 0 01-2.224.084 4.928 4.928 0 004.6 3.419A9.9 9.9 0 010 17.54a13.94 13.94 0 007.548 2.212c9.142 0 14.307-7.721 13.995-14.646A10.025 10.025 0 0024 2.557z" fill="#FFF"/>
                            </svg>
                        </a>
                        <a href="#" aria-label="Instagram">
                            <svg width="24" height="24" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z" fill="#FFF"/>
                            </svg>
                        </a>
                    </div>
                </div>
                
                <div class="footer-copyright">
                    <p>Copyright 2021. All Rights Reserved</p>
                </div>
            </div>
        </div>
    </footer>

    
    <script>
        // Mobile menu toggle
        const mobileMenuBtn = document.getElementById('mobileMenuBtn');
        const mainNav = document.getElementById('mainNav');

        mobileMenuBtn.addEventListener('click', function() {
            mainNav.classList.toggle('nav-open');
            mobileMenuBtn.classList.toggle('menu-open');
        });

       
        const navLinks = mainNav.querySelectorAll('a');
        navLinks.forEach(link => {
            link.addEventListener('click', () => {
                mainNav.classList.remove('nav-open');
                mobileMenuBtn.classList.remove('menu-open');
            });
        });
        </script>

    <script>
      function getQueryParam(key) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(key);
    }

    function updateCartCount() {
      const cart = JSON.parse(localStorage.getItem('cart') || '[]');
      const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
      document.getElementById('cart-count').textContent = totalItems;
    }


function addToCart(id, name, price, image) {
    let cart = JSON.parse(localStorage.getItem('cart') || '[]');
    const existing = cart.find(item => item.id === id);
    if (existing) {
        existing.quantity += 1;
    } else {
        cart.push({ 
            id, 
            name, 
            price: parseFloat(price),  
            quantity: 1, 
            image 
        });
    }
    localStorage.setItem('cart', JSON.stringify(cart));
    updateCartCount();
    alert(`${name} added to cart`);
}

    document.addEventListener('DOMContentLoaded', () => {
      updateCartCount();

      const slug = getQueryParam('slug');
      if (!slug) {
        alert("Product slug is missing in URL.");
        return;
      }

      fetch(`https://audiophiles.up.railway.app/api/store/products/${slug}/`)
        .then(res => res.json())
        .then(product => {
          document.getElementById('product-name').textContent = product.name;
          document.getElementById('product-description').textContent = product.description;
          document.getElementById('product-price').textContent = product.price;
          document.getElementById('product-image').src = product.image_absolute_url;
          console.log(product.image_absolute_url)

const galleryContainer = document.getElementById('product-gallery');
if (galleryContainer) {
    galleryContainer.innerHTML = ''; 
    
    if (product.gallery && product.gallery.length > 0) {
        product.gallery.forEach((img, index) => {
            const galleryImgUrl = img.image_absolute_url || 
                                `${img.image_absolute_url}`;
            
            const galleryItem = document.createElement('div');
            galleryItem.className = index === 2 ? 'gallery-item large' : 'gallery-item';
            
            const imgElem = document.createElement('img');
            imgElem.src = galleryImgUrl;
            imgElem.alt = `Gallery image ${index + 1} for ${product.name}`;
            
            galleryItem.appendChild(imgElem);
            galleryContainer.appendChild(galleryItem);
        });
    } else {
        galleryContainer.innerHTML = "<p>No gallery available</p>";
    }
}



          document.getElementById('addToCartBtn').addEventListener('click', () => {
            addToCart(product.id, product.name, product.price, product.image_absolute_url);
          });
        })
        .catch(err => {
          console.error("Error loading product:", err);
          alert("Error loading product details.");
        });
    });

        </script>

        

      
</body>
</html>